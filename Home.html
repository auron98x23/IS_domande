<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Quiz Master Completo (1-138)</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --success: #27ae60;
            --error: #e74c3c;
            --bg: #f4f7f6;
            --q-shuffle: #8e44ad;
            --a-shuffle: #d35400;
        }

        body { font-family: 'Segoe UI', sans-serif; background-color: var(--bg); color: var(--primary); padding: 10px; margin: 0; }
        .container { max-width: 1000px; margin: 0 auto; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        
        .sticky-header { position: sticky; top: 0; background: rgba(255,255,255,0.98); z-index: 1000; padding: 10px; border-bottom: 3px solid #ddd; margin-bottom: 20px; }
        h1 { text-align: center; margin: 5px 0; font-size: 1.4rem; color: var(--primary); }
        .score-box { background: var(--primary); color: white; padding: 10px; border-radius: 8px; text-align: center; font-weight: bold; margin-bottom: 10px; font-size: 1.1em; }

        .control-group { margin-bottom: 10px; padding: 8px; border-radius: 8px; background: #f9f9f9; border: 1px solid #eee; }
        .group-label { display: block; font-size: 0.75em; text-transform: uppercase; color: #777; margin-bottom: 5px; font-weight: bold; text-align: center; }
        .btn-row { display: flex; gap: 5px; justify-content: center; flex-wrap: wrap; }
        
        button { border: none; padding: 8px 14px; border-radius: 5px; cursor: pointer; font-weight: 600; font-size: 13px; transition: 0.2s; color: white; }
        .btn-block { background: white; color: var(--accent); border: 1px solid var(--accent); }
        .btn-block.active { background: var(--accent); color: white; }
        .btn-q { background-color: var(--q-shuffle); }
        .btn-a { background-color: var(--a-shuffle); }
        .btn-reset { background-color: #7f8c8d; width: 100%; margin-top: 5px; }
        .mode-active { outline: 2px solid #000; box-shadow: 0 0 5px rgba(0,0,0,0.3); }

        .question-block { margin-bottom: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 8px; background: #fff; }
        .question-header { font-weight: 700; margin-bottom: 12px; display: flex; gap: 10px; align-items: baseline; }
        .q-badge { background: #eee; padding: 2px 6px; border-radius: 4px; font-size: 0.8em; }
        
        .options { display: flex; flex-direction: column; gap: 8px; }
        .option-label { padding: 10px 15px; border: 2px solid #ccc; border-radius: 6px; cursor: pointer; transition: 0.2s; font-size: 0.95em; }
        .option-label:hover { border-color: var(--accent); background: #f0f7ff; }
        
        .correct { background-color: #d4edda !important; border-color: var(--success) !important; color: #155724; pointer-events: none; }
        .wrong { background-color: #f8d7da !important; border-color: var(--error) !important; color: #721c24; }
        .disabled { pointer-events: none; opacity: 0.6; }
    </style>
</head>
<body>

<div class="container">
    <div class="sticky-header">
        <h1>AI Quiz Master Completo (1-138)</h1>
        <div class="score-box">Punteggio (1¬∞ tentativo): <span id="score">0</span> / <span id="total-visible">0</span></div>

        <div class="control-group">
            <span class="group-label">Blocchi Domande</span>
            <div class="btn-row">
                <button class="btn-block active" onclick="toggleBlock(1)" data-block="1">1-20</button>
                <button class="btn-block" onclick="toggleBlock(2)" data-block="2">21-40</button>
                <button class="btn-block" onclick="toggleBlock(3)" data-block="3">41-60</button>
                <button class="btn-block" onclick="toggleBlock(4)" data-block="4">61-80</button>
                <button class="btn-block" onclick="toggleBlock(5)" data-block="5">81-100</button>
                <button class="btn-block" onclick="toggleBlock(6)" data-block="6">101-120</button>
                <button class="btn-block" onclick="toggleBlock(7)" data-block="7">121-138</button>
                <button class="btn-block" onclick="selectAllBlocks()" style="border-color: #333; color: #333;">Tutte</button>
            </div>
        </div>

        <div class="btn-row">
            <button class="btn-q" id="q-rand" onclick="setQMode('random')">üîÄ Domande Random</button>
            <button class="btn-q mode-active" id="q-ord" onclick="setQMode('ordered')">üî¢ Domande Ordine</button>
            <button class="btn-a" id="a-rand" onclick="setAMode('random')">üîÄ Risposte Random</button>
            <button class="btn-a mode-active" id="a-ord" onclick="setAMode('ordered')">ABC Risposte Ordine</button>
        </div>
        <button class="btn-reset" onclick="resetProgress()">üóëÔ∏è Reset Punteggio e Risposte</button>
    </div>

    <div id="quiz-container"></div>
</div>

<script>
const fullDb = [
    // 1-20
    { id: 1, q: "Nowadays, the usage of classical feature extraction and data analysis methods is outdated since the capability of the recent deep learning models and methods made them obsolete and not more present in the common practice", options: ["True", "False"], correct: 1 },
    { id: 2, q: "Artificial Intelligence can be applied to the following sectors", options: ["Robotics", "Information Extraction", "All the above"], correct: 2 },
    { id: 3, q: "Artificial neural networks are capable to learn human biases", options: ["False: the achievable complexity of the artificial neural networks is so far from the complexity of the human brain to make impossible to mimic this characteristic", "False: human biases are not reproducible nor measurable", "True"], correct: 2 },
    { id: 4, q: "Recent artificial intelligence models can solve analogy puzzles", options: ["False", "True"], correct: 1 },
    { id: 5, q: "Considering the \"Data knowledge spectrum plot\" discussed in class, the minimum amount of data required is in the following case.", options: ["No knowledge about the model generating the data is available", "A statistical model of the process is available", "A mathematical model of the process is available"], correct: 2 },
    { id: 6, q: "It is possible to think to the single datum in input to the neural network as a point in the \"input space\" of the model, even if the input is a single value, a N dimensional vector, or an image", options: ["True", "False"], correct: 0 },
    { id: 7, q: "It is correct to say the one of the key features of an intelligent artificial system is the capability to learn (even if only a limited sense) and/or get better in time", options: ["True", "False"], correct: 0 },
    { id: 8, q: "According to the Andries Engelbrecht definition of Computational intelligence what of the following is not included?", options: ["Artificial Neural Networks", "Evolutionary Computing", "Swarm Intelligence", "Artificial immune system", "Fuzzy Systems", "All the above are included"], correct: 5 },
    { id: 9, q: "According to the class discussion of the Gestalt capability, what of the following sentences is more correct?", options: ["The Gestalt capability is a typical feature present by-design in the model of classical neural networks", "The Gestalt capability is a typical feature present by-design in the model of deep learning neural networks", "The Gestalt capability is a typical human feature not well (yet) mimicked in current artificial networks"], correct: 2 },
    { id: 10, q: "The following activity: Data Selection, Data Filtering, Data Enhancing", options: ["Are part of the job of the artificial intelligent specialist in normal activities", "Contribute to keep lower the complexity of the learning task", "All the above", "Are part of the classical machine learning approaches and they are (correctly)"], correct: 2 },
    { id: 11, q: "The Mean Squared Error is typically present in what step of the design", options: ["Representation", "Evaluation"], correct: 1 },
    { id: 12, q: "Considering IoT devices as source of data for external intelligent systems (IS is not intended to be embedded into the loT device), what kind of loT devices can be really used?", options: ["Passive data IoT devices", "Active data loT devices", "Dynamic data loT devices", "All of the above", "None of the above"], correct: 3 },
    { id: 13, q: "Referring to the class discussion, the (correct) design practice for neural networks considers", options: ["Start with deep learning models since they are the cutting edge and most advanced technology that we have now", "Start with deep learning models since they are the cutting edge and most advanced technology we have now, and then use classicals method as reference", "Start with simple neural networks before to consider deep learning models"], correct: 2 },
    { id: 14, q: "The missing values can also be occupied by computing mean, mode or median of the observed given values.", options: ["This is very unusual and not common in practice", "This is a very simple and effective solution in case the learning method is not capable to deal with missing data", "This is not possible, since that is just descriptive statistics about the features, and cannot be used to fill missing data"], correct: 1 },
    { id: 15, q: "An additional information can allow the model to learn or know something that it otherwise would not know and in turn invalidate the estimated performance of the model being constructed. This is called", options: ["Data leakage", "Data pre-processing", "Data harmonization", "Data wrangling"], correct: 0 },
    { id: 16, q: "The degrees of freedom for a given problem are the number of independent problem variables which must be specified to uniquely determine a solution. Hence the #DoF is important to be considered", options: ["To design the number of vectors in the learning dataset.", "To avoid overfitting problem in the model", "All the above", "None of the above"], correct: 2 },
    { id: 17, q: "About the cosine metrics it is possible to say that", options: ["Two vectors with the same orientation have a cosine similarity of 1", "Two vectors oriented at 90¬∞ relative to each other have a similarity of 0", "All of the above", "None of the above"], correct: 2 },
    { id: 18, q: "What similarity feature/features discussed in class offers/offer the property to allow a fast comparison based on a short 1D vector of elements or bits", options: ["phash", "ahash", "All the above", "Cross-correlation"], correct: 2 },
    { id: 19, q: "In agreement to the class discussion, which description better describes the design activity?", options: ["Similarity in the dataset requires more space and processing time", "Similarity in the dataset can improve generalization", "Both of the above", "None of the above"], correct: 2 },
    { id: 20, q: "In agreement to the class discussion, in a dataset of 1100 labelled images, the search for duplications is typically achieved...", options: ["by manual exploration of the dataset for better results since the number of images is not critical", "by automatic iterations > 1M comparisons", "by automatic iterations > 1000 comparisons"], correct: 1 },
    // 21-40
    { id: 21, q: "In agreement to the class discussion, what kind of labelling error is generally the worst case for the accuracy of the generalization of the model? (ERR1=Same labels, ERR2=Different labels)", options: ["ERR1", "ERR2", "ERR1=ERR2"], correct: 1 },
    { id: 22, q: "According to the class discussion, about the relationship between the operation of cross-correlation and convolution it is possible to say that", options: ["They are very similar in meaning and mathematical expression", "Despite the mathematical expression is similar, the meaning and their use is completely different", "There is no specific relationship since loro different"], correct: 0 },
    { id: 23, q: "According to the class discussion, what is the characteristic of the self-correlation (O=xcor2(A,A)) map produced by a generic image?", options: ["A flat and noisy central plateau", "An evident spike at the center with a very well-defined maximum", "Not possible to create an autocorrelation map from one single image"], correct: 1 },
    { id: 24, q: "If your data set contains extreme outliers, it better to use as preprocessing", options: ["Feature clipping", "Min-max normalization", "Z' norm"], correct: 0 },
    { id: 25, q: "A logarithmic scaling to one feature values is typically applied in a case of", options: ["Outliers' presence", "Negative values", "A very large range in the values (>0)"], correct: 2 },
    { id: 26, q: "According to the scientific visualization rules presented in class, if you are plotting many figures of merit obtained by your trained neural network on a new dataset, which is the correct ranking of visual attributes to be used?", options: ["Color intensity > Hue > Length", "Area > Length > Hue", "Slope > Angle > Volume", "Hue > Area > Length"], correct: 3 },
    { id: 27, q: "According to the discussion presented in class about the data visualization, and considerando 1) Get Data, 2) Clean Data, 3) Train, 4) Test, 5) Improve, main steps where visualization involved?", options: ["#5", "#1 and #5", "#3 and #5", "#2 and #5"], correct: 3 },
    { id: 28, q: "According to discussion about similarity, consider image A(x,y) with internal similarity. What happens to output of self-cross correlation?", options: ["Not possible to apply", "Flat plateau with one peak", "Many peaks and one evident maximum", "Many equivalent peaks"], correct: 2 },
    { id: 29, q: "Machine Learning on CPUs offer the following advantages", options: ["Portability and flexibility, Market availability", "Portability, flexibility, Market availability, Deployment across wide spectrum", "Portability, Deployment across wide spectrum", "Market availability, Deployment"], correct: 1 },
    { id: 30, q: "According to the class discussion, text prefiltering is often used as input for a neural network to deal with large text input", options: ["True, hamming distance", "True, cosine distance", "True, string approximate match", "True, discrete gradient descent", "True, word embeddings technique"], correct: 4 },
    { id: 31, q: "The Inception-v3 deep learning pretrained model discussed during the course is a model for", options: ["Post processing", "None of other", "Image Enhancing", "Image classification", "Segmentation"], correct: 3 },
    { id: 32, q: "Intelligent vision systems can achieve Semantic segmentation by", options: ["Hybrid approach blob detection + classification", "Complete fully convolutional solution", "Hybrid approach blob detection + segmentation", "None of other"], correct: 1 },
    { id: 33, q: "An AI model processing RGB image to evaluate age. What kind of model is it?", options: ["Classifier", "Regressor", "Clustering", "Reinforced", "None of above"], correct: 1 },
    { id: 34, q: "According to class discussion, theory of intelligent systems includes steps:", options: ["Representation", "Representation, Evaluation", "Representation, Evaluation, Optimization", "None of other"], correct: 2 },
    { id: 35, q: "Clustering always requires supervised dataset", options: ["Yes", "No"], correct: 1 },
    { id: 36, q: "According to class discussion, using a black box solution is:", options: ["Bad practice for ML designer", "Used under specific circumstances", "Current good practice due to SOTA size"], correct: 0 },
    { id: 37, q: "Dataset X (1000 samples, 4 features). Reduce to 2 features. Option A: PCA. Option B: Feedforward Feature Selection.", options: ["A not possible, B possible", "A possible, B possible", "A possible, B not possible"], correct: 2 },
    { id: 38, q: "Feature values [-5, 0, +5]. Which normalization gives [0, 0.5, 1]?", options: ["Z-score", "Clipping", "Min-MAX", "Different type"], correct: 2 },
    { id: 39, q: "If you train feed-forward models with increasing number of neurons, which case is more probable?", options: ["None of below", "Errors decrease indefinitely", "Training error increases", "Validation error decreases indefinitely"], correct: 0 },
    { id: 40, q: "Which partition provides lower training error but lower confidence in test results?", options: ["Train 99%, Test 1%", "Train 75%, Test 25%", "Train 50%, Test 50%", "Train 25%, Test 75%", "Train 1%, Test 99%"], correct: 0 },
    // 41-60
    { id: 41, q: "According to class discussion, what kind of activity can be performed on the test set?", options: ["All below", "Mean test error estimation", "Mean test error + std deviation", "Confusion matrix test"], correct: 0 },
    { id: 42, q: "According to class discussion, what activity can be performed on the train set?", options: ["Design # neurons", "Design # layers", "Normalization", "PCA", "All other options"], correct: 4 },
    { id: 43, q: "According to class discussion, where can feature engineering be performed?", options: ["Only on test set", "On train + test set", "Only on different dataset", "Only on train set"], correct: 3 },
    { id: 44, q: "Which option is correct about Confusion Matrix?", options: ["Possible to process error and vice versa", "Only for binary classification", "Possible to process classification error", "Error = sum of diagonal elements"], correct: 2 },
    { id: 45, q: "Model described by equation f(x)=sgn(w*x+b):", options: ["Linear regressor", "Soft-max neuron", "Sigmoidal neuron", "Linear classifier", "Gradient descent", "Model parameters"], correct: 3 },
    { id: 46, q: "Definition: 'output is the label produced by the most probable classifier':", options: ["Supervised Classifier", "K-means", "Bayes Optimal Classifier", "None of other"], correct: 2 },
    { id: 47, q: "kNN classifier, what kind of learning?", options: ["Instance-based", "Eager", "Hard-limited", "Unsupervised", "None"], correct: 0 },
    { id: 48, q: "Classifier: not neural; deterministic; repeatability; minimum parameters; simple learning; explainability:", options: ["Linear", "Decision Tree", "KNN", "K-means", "None"], correct: 2 },
    { id: 49, q: "In KNN, what is true about larger values of k?", options: ["Less regularization, more complexity", "More regularization, more complexity", "Less regularization, less complexity", "More regularization, less complexity", "No relation"], correct: 3 },
    { id: 50, q: "According to class discussion on PCA:", options: ["Vectors originate from center of mass", "Subsequent vectors are orthogonal", "All other options"], correct: 2 },
    { id: 51, q: "According to class discussion on PCA:", options: ["Subsequent vectors are orthogonal", "Variance projection on first vectors maximized", "All other options"], correct: 2 },
    { id: 52, q: "Method: specify k in advance, unable to handle noise/outliers, not for non-convex shapes:", options: ["K-means", "KNN", "Decision Tree", "None"], correct: 0 },
    { id: 53, q: "Backpropagation term missing: DELTAW_ij = ?? * y_j * delta_k:", options: ["?? = input vector", "?? = alfa (> 1)", "?? = alfa (< 1)", "?? = input vector error"], correct: 2 },
    { id: 54, q: "Likely sequence of modules in CNN architecture:", options: ["Input->Relu->Conv->MaxP->Softmax->Output", "Input->Relu->MaxP->Softmax->Conv->Output", "Input->Relu->MaxP->Conv->Softmax->Output", "Input->Conv->Relu->MaxP->Softmax->Output"], correct: 3 },
    { id: 55, q: "Traditional Segmentation methods partition in:", options: ["Global knowledge, Edge-based", "Edge-based, Region-based", "Global knowledge, Edge-based, Region-based", "None"], correct: 2 },
    { id: 56, q: "Process images with deep learning on small USB devices?", options: ["True: dedicated processors + USB bandwidth", "False: USB bandwidth", "False: computational complexity", "False: bandwidth + complexity"], correct: 0 },
    { id: 57, q: "What is Greedy Layer-Wise Training?", options: ["Supervised for auto-encoders", "Supervised for feedforward", "Unsupervised for feedforward", "Unsupervised to improve auto-encoders"], correct: 3 },
    { id: 58, q: "Number of parameters in VGGNet training:", options: ["< 100000", "> 100 Million", "1 Million", "10 Million"], correct: 1 },
    { id: 59, q: "Basic metrics in similarity: alpha * cos(A,B) equals:", options: ["cos(alpha*A, B)", "cos(alpha*A, alpha*B)", "cos(alpha*A, B) = cos(A, alpha*B)", "alpha * cos(alpha*A, alpha*B)"], correct: 2 },
    { id: 60, q: "Worst data leakage situation:", options: ["Training to Test", "None of other", "Test to Training (pessimistic)", "Test to Training (optimistic)"], correct: 3 },
    // 61-80
    { id: 61, q: "Split image into regions using features/colors (ROI):", options: ["Model training", "Post processing", "Enhancing", "Segmentation", "Feature engineering"], correct: 3 },
    { id: 62, q: "Worst labelling error case for accuracy generalization?", options: ["ERR1 = ERR2", "ERR2 worst", "ERR1 worst", "ERR1 roughly ERR2"], correct: 1 },
    { id: 63, q: "Autocorrelation map characteristic of generic image:", options: ["Not possible from single image", "None of other", "Flat noisy plateau", "Evident spike at center"], correct: 3 },
    { id: 64, q: "Tensor Processing Unit (TPU) is:", options: ["Part of CNN for tensorial activation", "Unit of Arm architecture", "ASIC for neural network ML", "None"], correct: 2 },
    { id: 65, q: "F2 = [-13, 0, 1, 2, 4, 128]. Normalization giving [0, 0, 1, 2, 4, 10]?", options: ["Z-score", "Min-MAX", "Clipping", "Different type"], correct: 2 },
    { id: 66, q: "Intelligent Vision tasks complexity:", options: ["Instance Segmentation < Object Detection", "Instance Segmentation > Object Detection", "Similar complexity", "Not vision tasks"], correct: 1 },
    { id: 67, q: "Picture with 1 car, 5 people. Label 'humans' produced. Task?", options: ["Instance segmentation", "Object detection", "Image classification", "Semantic segmentation"], correct: 2 },
    { id: 68, q: "Training gain of GPUs over CPUs (medium/large):", options: ["100x perf, 10x eff", "100x perf, 5x eff", "10x perf, 5x eff", "2x perf, 2x eff"], correct: 2 },
    { id: 69, q: "Basic industrial setup for Vision:", options: ["Smart camera + ext units + illumination", "Camera + illumination", "Camera only", "Camera + units + illumination", "Camera + units"], correct: 3 },
    { id: 70, q: "Optimization during training can optimize:", options: ["Accuracy", "Margin", "Both"], correct: 2 },
    { id: 71, q: "EU AI regulation approach based on:", options: ["Use cases", "Risk assessment", "Both", "None"], correct: 2 },
    { id: 72, q: "EU regulatory framework for AI mainly focused on:", options: ["Public services", "Health apps", "Data privacy", "None of other options"], correct: 3 },
    { id: 73, q: "MAE (Mean Absolute Error) properties:", options: ["Lower is better", "Less sensitive to outliers", "[0, +inf]", "None of other", "All other options", "mean(abs(obs - pred))"], correct: 4 },
    { id: 74, q: "AI lacking awareness, emotions, Gestalt:", options: ["Large AI", "Reactive AI", "AGI", "Narrow AI", "None"], correct: 3 },
    { id: 75, q: "Range for MSE (Mean Squared Error):", options: ["[-inf, +inf]", "[0, 1]", "[0, +inf]", "[-1, 1]", "None"], correct: 2 },
    { id: 76, q: "Primary advantage of Stratified k-Fold over simple k-Fold?", options: ["Equal partition size", "Lower complexity", "Preserves class distribution", "Improves training time", "Eliminates test partitions"], correct: 2 },
    { id: 77, q: "1D linear model z=w1*x+b. Data points needed to describe model?", options: ["4 (invertible)", "2 (parameters w1, b)", "3 (generalization)", "1 (linear)", "None"], correct: 1 },
    { id: 78, q: "In k-FCV, k represents:", options: ["Dimensions (PCA)", "Eigenvalues", "Number of partitions", "Neighbors (k-NN)", "Annealing steps"], correct: 2 },
    { id: 79, q: "Spectrum plot: parameters tuned/fitted with limited data when:", options: ["No a priori + huge data", "Model available + limited data", "No a priori + limited data", "Model available + huge data", "None"], correct: 1 },
    { id: 80, q: "Train feed-forward with increasing neurons. Probable case?", options: ["None of other", "Errors decrease indefinitely", "Training error increases", "Validation error decreases indefinitely", "Validation error increases"], correct: 4 },
    // 81-100
    { id: 81, q: "Industry 4.0 design principles:", options: ["Interoperability, transparency, assistance, decentralized", "Interoperability, transparency, assistance, wireless", "Interoperability, transparency, assistance", "Interoperability, transparency, decentralized", "None"], correct: 0 },
    { id: 82, q: "Correct range for MAE:", options: ["None", "[-1, 1]", "[0, +inf]", "[-inf, +inf]", "[0, 1]"], correct: 2 },
    { id: 83, q: "Capability processed onboard recent smart camera:", options: ["Seg, Meas, Class (non-deep)", "Seg, Meas, Class (deep) + training", "Seg, Meas", "Seg, Meas, Class (deep)", "Seg, Meas, Class"], correct: 2 },
    { id: 84, q: "GoogLeNet is a model for:", options: ["None", "Segmentation", "Post processing", "Enhancing", "Image classification"], correct: 4 },
    { id: 85, q: "Simple k-FCV procedure may:", options: ["Local minima", "Prevent overfitting", "None", "Disarrange class proportions", "Impossible test error"], correct: 3 },
    { id: 86, q: "Why maintain balanced partition between train/test?", options: ["Identical data", "No validation", "None", "Generalize + avoid bias", "Test > Train"], correct: 3 },
    { id: 87, q: "Adjust k in k-FCV?", options: ["No (fixed 5/10)", "None", "No (no impact)", "Yes (match classes)", "Yes (avoid small test partition)", "No (match features)"], correct: 4 },
    { id: 88, q: "Evaluation: Regressor vs Classifier?", options: ["No (identical)", "No (same metrics)", "Yes (Regressor uses Accuracy/Precision)", "Yes (Regressor uses MAE/MSE, Classifier uses Accuracy/Precision)", "None"], correct: 3 },
    { id: 89, q: "Leave One Person Out importance:", options: ["Memorize data", "Faster training", "None", "Focus overfitting", "Generalize to unseen individuals"], correct: 4 },
    { id: 90, q: "Dataset used for both training and validating:", options: ["Perform better on test", "Train error lower than test", "Generalize well", "No clue about behavior with unseen cases", "None"], correct: 3 },
    { id: 91, q: "Example of 'Divide et Impera' for unbalanced data:", options: ["Single classifier", "Random labels", "Hierarchical classifiers", "Duplicate cases", "Remove rare cases"], correct: 2 },
    { id: 92, q: "Dividing time series a problem for k-FCV?", options: ["None", "No (temporal doesn't affect)", "Yes (data leakage, temporal dependencies)", "Yes (solved by k-FCV)", "No (behave like any dataset)"], correct: 2 },
    { id: 93, q: "Overfitting characteristic:", options: ["Poorly adjusted", "High error train/test", "None", "Train/test error both high", "High precision known, poor unseen"], correct: 4 },
    { id: 94, q: "R-squared metric properties:", options: ["Higher better", "None of other", "[0,1]", "Variation explained by predictor", "All other options"], correct: 4 },
    { id: 95, q: "Search for duplications in 1100 images achieved:", options: ["Hashing functions", "Manually", "Clustering", "Automatic 1x1 resize", "None"], correct: 0 },
    { id: 96, q: "Why aggregate values in k-FCV?", options: ["Summarize performance", "Lowest error fold", "None", "Identify important fold", "Not necessary"], correct: 0 },
    { id: 97, q: "Transduction in ML context:", options: ["New function unseen", "None", "Derive values given function", "Derive values unknown function from data", "Derive function from data"], correct: 3 },
    { id: 98, q: "Design activities on test data?", options: ["Yes (refine)", "Yes (ensure)", "No (generalization only)", "Yes (after observing)"], correct: 2 },
    { id: 99, q: "Unbalanced dataset example:", options: ["Credit (balanced)", "None", "Medical (balanced healthy/unhealthy)", "Medical (mostly healthy, few disease)", "Credit (mostly default)"], correct: 3 },
    { id: 100, q: "Underfitting characteristic:", options: ["High precision known", "Well train, poor test", "High error train + test", "None", "Tightly adjusted"], correct: 2 },
    // 101-120
    { id: 101, q: "Metric TP / (TP + FN):", options: ["Recall", "Specificity", "Precision", "None", "Accuracy"], correct: 0 },
    { id: 102, q: "Supervised learning algorithm example:", options: ["None", "k-means", "PCA", "Apriori", "Linear regression"], correct: 4 },
    { id: 103, q: "Parameters in fully connected (10 in, 10 hidden, 1 out):", options: ["100", "121", "101", "300", "10", "More than 300"], correct: 1 },
    { id: 104, q: "Practice preventing Data Leakage:", options: ["All data in train", "Separate features/target + no test info in train", "None", "Fewer features", "Higher complexity"], correct: 1 },
    { id: 105, q: "Outcome of Data Leakage:", options: ["Perfect generalization", "Fails to generalize", "Additional features", "Too simple", "None"], correct: 1 },
    { id: 106, q: "Parameters in fully connected (2 in, 2 hidden, 1 out):", options: ["12", "8", "6", "9", "None"], correct: 3 },
    { id: 107, q: "Handling unbalanced data using 'Change labelling':", options: ["Original labels", "Uniform sampling", "Merge rare into categories", "Duplicate cases", "Ignore rare"], correct: 2 },
    { id: 108, q: "Random partition (A/B), reversal + 5 repetitions:", options: ["None", "LOO", "Bagging", "K-Fold", "Monte Carlo"], correct: 3 },
    { id: 109, q: "Data Leakage scenario:", options: ["Cross-validation", "None", "Features derived from target", "Scaling on train", "Balanced dataset"], correct: 2 },
    { id: 110, q: "Worst leakage case?", options: ["Test-to-Training", "Training-to-Test", "Similar small impact", "Similar strong impact"], correct: 0 },
    { id: 111, q: "NLP tasks considered transduction problems because:", options: ["Converts string to string", "Derives function", "None", "Predicts no input", "Generates unseen"], correct: 0 },
    { id: 112, q: "Data Leakage scenario:", options: ["Random info", "Not normalized", "None", "Critical feature not in train but in test", "Split properly"], correct: 3 },
    { id: 113, q: "Correct predictions and errors in Confusion Matrix:", options: ["Errors diagonal", "Errors borders", "Errors alternate", "Correct diagonal, Errors off", "None"], correct: 3 },
    { id: 114, q: "Plot confidence level of figure of merit (accuracy)?", options: ["Yes (diff units)", "No (same units)", "Yes (same units, same plot)"], correct: 2 },
    { id: 115, q: "NET1 (Excessive DoF) vs NET2 (Balanced DoF):", options: ["NET1 higher generalization error (overfitting)", "None", "NET1 better", "NET2 higher error (underfitting)", "Equal"], correct: 0 },
    { id: 116, q: "Leave One Person Out importance in:", options: ["Balanced images", "SOTA benchmarks", "Biometrics/Medical", "Speech"], correct: 2 },
    { id: 117, q: "Solution for unbalanced datasets:", options: ["Random oversampling", "Collect more data", "Uniform sampling", "Increase weight rare class loss", "Ignore rare"], correct: 2 },
    { id: 118, q: "Degrees of Freedom (DoF) refer to:", options: ["Train/test diff", "Independent variables/parameters", "None", "# features", "Total data"], correct: 1 },
    { id: 119, q: "Cosine metrics:", options: ["All other options", "90 deg = 0", "Angular displacement only", "Same orient = 1"], correct: 0 },
    { id: 120, q: "Leave One Out (LOO) suitable for:", options: ["Equal for both", "None", "Large datasets", "Learning method only", "Small datasets"], correct: 4 },
    // 121-138
    { id: 121, q: "Receiver Operating Characteristic (ROC) curve represents:", options: ["None", "Matrix specific threshold", "Precision-Recall plot", "TPR vs FPR plot", "Single summary number"], correct: 3 },
    { id: 122, q: "Train data overly large compared to test (unbalanced):", options: ["Test zero", "Perfect generalization", "None", "Train lower than test", "Lacks confidence in generalization"], correct: 4 },
    { id: 123, q: "Input space of intelligent systems:", options: ["Single datum = point in input space", "Single datum = N points", "Not possible point (N>2)", "Only for linear classifiers"], correct: 0 },
    { id: 124, q: "Misclassification Rate formula:", options: ["(TP + TN) / N", "(FP + TP) / N", "None", "(FP + FN) / N", "(FN + TN) / N"], correct: 3 },
    { id: 125, q: "Algorithm NOT supervised learning:", options: ["Regressor", "None", "K-means", "Linear regression", "Classifier"], correct: 2 },
    { id: 126, q: "Purpose of aggregating test values in k-FCV:", options: ["Overall metric", "None", "Select best fold", "Discard folds", "Optimize features"], correct: 0 },
    { id: 127, q: "Reasoning: k-NN, linguistic translation, sequence prediction:", options: ["None", "Transduction", "Deduction", "Induction"], correct: 1 },
    { id: 128, q: "NLP models reasoning approach:", options: ["Transduction", "None", "Deduction", "Induction"], correct: 0 },
    { id: 129, q: "Classical feature extraction methods outdated?", options: ["True", "False (Study/Validate data)", "False (Greedy Lazy)"], correct: 1 },
    { id: 130, q: "Purpose of stratified k-FCV:", options: ["Minority classes test only", "Maximize training", "Random shuffle", "Maintain class distributions"], correct: 3 },
    { id: 131, q: "Simple k-FCV disarrange portions from each class?", options: ["Yes (balanced)", "No (unrelated)", "Yes (may disarrange)", "No (always preserves)"], correct: 1 },
    { id: 132, q: "Artificial neural networks incapable to learn human biases:", options: ["True (Gestalt)", "True (Brain complexity)", "False"], correct: 2 },
    { id: 133, q: "Dataset divided into 3 groups (1 test, 2 train). Repetitive. Approach?", options: ["Stratification", "PCA", "Clustering", "3-fold CV", "Pruning"], correct: 3 },
    { id: 134, q: "Correct 3-fold CV approach:", options: ["3 groups (each test once)", "None", "3 groups (50/50)", "3 groups (all simultaneous)", "3 groups (only one used)"], correct: 0 },
    { id: 135, q: "Data Leakage in image dataset:", options: ["Unrelated features (color/size) used", "Split train/test", "Augmentation inconsistency", "Normalization", "None"], correct: 0 },
    { id: 136, q: "Calculate mean and std errors in k-FCV?", options: ["No (only std)", "No (not possible)", "No (only mean)", "Yes (both)", "No (one value only)"], correct: 3 },
    { id: 137, q: "Assessment of image classifier include:", options: ["Noise/flipped class", "None", "Change relevant parts", "All other options", "Saliency maps"], correct: 3 },
    { id: 138, q: "DoF (rule of thumb) in fully connected:", options: ["Weights hidden", "Features + Weights", "Features", "All other", "Vectors in train"], correct: 0 }
];

let activeBlocks = [1];
let score = 0;
let attempted = new Set();
let correctFirstTry = new Set();
let modeQ = 'ordered'; 
let modeA = 'ordered'; 
let currentQuizSet = [];

function toggleBlock(b) {
    const btn = document.querySelector(`button[data-block="${b}"]`);
    if(activeBlocks.includes(b)) {
        if(activeBlocks.length > 1) {
            activeBlocks = activeBlocks.filter(x => x !== b);
            btn.classList.remove('active');
        }
    } else {
        activeBlocks.push(b);
        btn.classList.add('active');
    }
    regenerateQuiz();
}

function selectAllBlocks() {
    activeBlocks = [1,2,3,4,5,6,7];
    document.querySelectorAll('.btn-block').forEach(b => b.classList.add('active'));
    regenerateQuiz();
}

function setQMode(m) {
    modeQ = m;
    document.getElementById('q-rand').classList.toggle('mode-active', m === 'random');
    document.getElementById('q-ord').classList.toggle('mode-active', m === 'ordered');
    regenerateQuiz();
}

function setAMode(m) {
    modeA = m;
    document.getElementById('a-rand').classList.toggle('mode-active', m === 'random');
    document.getElementById('a-ord').classList.toggle('mode-active', m === 'ordered');
    regenerateQuiz();
}

function regenerateQuiz() {
    let raw = [];
    if(activeBlocks.includes(1)) raw = raw.concat(fullDb.slice(0, 20));
    if(activeBlocks.includes(2)) raw = raw.concat(fullDb.slice(20, 40));
    if(activeBlocks.includes(3)) raw = raw.concat(fullDb.slice(40, 60));
    if(activeBlocks.includes(4)) raw = raw.concat(fullDb.slice(60, 80));
    if(activeBlocks.includes(5)) raw = raw.concat(fullDb.slice(80, 100));
    if(activeBlocks.includes(6)) raw = raw.concat(fullDb.slice(100, 120));
    if(activeBlocks.includes(7)) raw = raw.concat(fullDb.slice(120, 138));

    currentQuizSet = JSON.parse(JSON.stringify(raw));
    if(modeQ === 'random') currentQuizSet.sort(() => Math.random() - 0.5);
    else currentQuizSet.sort((a,b) => a.id - b.id);

    if(modeA === 'random') {
        currentQuizSet.forEach(q => {
            let optsIdx = q.options.map((o, idx) => ({ t: o, orig: idx }));
            optsIdx.sort(() => Math.random() - 0.5);
            q.options = optsIdx.map(o => o.t);
            q.correct = optsIdx.findIndex(o => o.orig === q.correct);
        });
    }
    renderQuestions();
}

function renderQuestions() {
    const container = document.getElementById('quiz-container');
    container.innerHTML = '';
    document.getElementById('total-visible').innerText = currentQuizSet.length;
    currentQuizSet.forEach(q => {
        const block = document.createElement('div');
        block.className = 'question-block';
        block.innerHTML = `<div class="question-header"><span class="q-badge">#${q.id}</span> <span>${q.q}</span></div>`;
        const optsDiv = document.createElement('div');
        optsDiv.className = 'options';
        q.options.forEach((txt, i) => {
            const label = document.createElement('div');
            label.className = 'option-label';
            label.innerText = txt;
            label.onclick = () => handleAnswer(q.id, i, q.correct, label, optsDiv);
            optsDiv.appendChild(label);
        });
        block.appendChild(optsDiv);
        container.appendChild(block);
    });
}

function handleAnswer(qId, sel, corr, el, cont) {
    if(el.classList.contains('disabled') || el.classList.contains('wrong')) return;
    const first = !attempted.has(qId);
    attempted.add(qId);
    if(sel === corr) {
        el.classList.add('correct');
        Array.from(cont.children).forEach(c => c.classList.add('disabled'));
        if(first) { score++; correctFirstTry.add(qId); document.getElementById('score').innerText = score; }
    } else { el.classList.add('wrong'); }
}

function resetProgress() {
    if(confirm("Azzerare tutto?")) {
        score = 0; attempted.clear(); correctFirstTry.clear();
        document.getElementById('score').innerText = 0;
        regenerateQuiz();
    }
}
regenerateQuiz();
</script>
</body>
</html>